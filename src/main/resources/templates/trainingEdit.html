<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<link th:href="@{/css/grouptraining.css}" rel="stylesheet">
	<title>研修管理機能</title>
</head>
<body>
	<!-- ヘッダー -->
	<header th:fragment="header">
	<div>
		<nav>
			<div>
				研修管理システム
				<ul class="nav">
					<li sec:authorize="hasAuthority('ROLE_講師')"><a th:href="@{/admin/Training}">研修管理</a></li>
					<li sec:authorize="hasAuthority('ROLE_講師')"><a th:href="@{/admin/Group}">グループ管理</a></li>
					<li sec:authorize="hasAuthority('ROLE_講師')"><a th:href="@{/admin/User}">ユーザー管理</a></li>

					<!-- 報告確認機能はスコープ外なのでコメントアウト
					<li sec:authorize="hasAuthority('ROLE_講師')"><a th:href="@{/admin/○○}">報告確認</a></li>
					-->
					<!-- トーク機能はスコープ外なのでコメントアウト
					<li sec:authorize="hasAuthority('ROLE_受講者')"><a th:href="@{/participant/talk}">トーク</a></li>	
					-->

					<li sec:authorize="hasAuthority('ROLE_受講者') and not hasAuthority('ROLE_講師')"><a th:href="@{/participant/traCourse}">受講研修</a></li>

					<!-- 週間報告機能はスコープ外なのでコメントアウト
					<li sec:authorize="hasAuthority('ROLE_受講者') and not hasAuthority('ROLE_講師')">
					<a th:href="@{/participant/○○}">週間報告</a></li>
					-->

					<li sec:authorize="hasAuthority('ROLE_受講者') and not hasAuthority('ROLE_講師')"><a th:href="@{/participant/traCourse}">[[${group_name}]]</a></li>
						
					<li><form th:action="@{/logout}" method="post">
						<input type="submit" value="ログアウト">
						</form></li>
				</ul>
			</div>
		</nav>
	</div>
	</header>
	
	<main>
		<div class="container">
			<h2>研修編集</h2>
			
			<p class="message" th:if="${errorMessage}"
				th:text="${errorMessage}" style="background-color: rgb(255, 212, 212);">
				エラーメッセージ
			</p>
			
			<div>
				<form class="logcenter" th:action="@{/admin/Training/update}"
					 th:object="${form}" method="post">
					 
					<div class="centerform">
						<label class="labelname">研修ID</label>
						<input type="text" class="Msizeinput" th:field="*{tra_id}"  readonly
						 style="background-color: lightgray;">
					</div>
					
					<div class="centerform">
						<label class="labelname">研修名</label>
						<input type="text" class="Msizeinput" th:field="*{tra_name}">
						<!--研修名のバリデーションチェック-->
						<p class="errormessage" th:if="${#fields.hasErrors('tra_name')}"
							th:errors="*{tra_name}" style="color: red;">
							エラーがあれば表示
						</p>
					</div>
					
					<div class="centerform">
						<label class="labelname">想定時間</label>
						<input type="text" class="Msizeinput" th:field="*{est_time}">
					</div>
					
					<div class="centerform">
						<label class="labelname">使用教材</label>
						<input type="text" class="Msizeinput" th:field="*{text_book}">
					</div>
					
					<div class="centerform">
						<label class="labelname">説明</label>
						<textarea type="text" class="descinput" rows="5" cols="30" th:field="*{description}"></textarea>
					</div>
					
					<div class="centerform">
						<label class="labelname">課題</label>
						<textarea type="text" class="issueinput" rows="5" cols="30" th:field="*{assignment}"></textarea>
					</div>
					
					<div class="inputbtnR">
						<button class="updatebtn" type="submit">更新</button>
					</div>
				</form>
			</div>
		</div>
		
		<form class="returnbtnL" th:action="@{/admin/Training}">
			<button class="returnbtn">研修一覧に戻る</button>
		</form>
	</main>
</body>
</html>