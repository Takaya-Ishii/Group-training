schema.sqlとdata.sqlの動作に関して

めちゃくちゃややこしいことになってるのでテーブルを正常に定義するための手順を書きます

①何もコードを変更せずそのまま動作させてください
ここで個人情報、グループ、受講研修の主キー周り以外の定義とそれ以外のテーブルの定義をします

②schema.sqlファイルのALTER TABLE profile_tableから続く3行をコメントアウトしてください
再実行時に「profile_tableには既にgroup_IDという列が存在しています」というエラーを防ぐためです

③group_tableのgroup_IDのPRYMARY KEYを削除orコメントアウトしてください
この段階ではgroup_tableの主キーはgroup_IDのみです

④group_tableの一番下のPRIMARY KEYのコメントアウトを外し、上のsummaryの文末にカンマを付けてください
そのためここで複合主キーにするためにテーブルの設計(設定)を変更します

⑤schema.sqlの最上部のDROP TABLE文のコメントアウトを外してください
設定が新しくなったのでテーブル自体を一度削除して再度作成するようにします

⑥data.sqlの一番下の文の文末、ON CONFLICTのカッコ内にカンマとusernameを追記します
主キーがgroup_IDからgroup_IDとusernameの複合主キーになったためです

⑦再実行します。
これで正しくテーブルが定義され、これ以降も使用できます。

！！！！⑧！！！！ ⑤でコメントアウトを外したDROP TABLE文を再度コメントアウトします
これをしないと実行するたびにグループ管理テーブルが初期化されます

以上です

どうしてこうなってしまったんでしょうね。
本当に申し訳ない。